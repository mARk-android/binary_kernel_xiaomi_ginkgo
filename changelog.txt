=================================================
Changes in 4.14.233-rc
=================================================
Added patch:
*****************************************************
usbip-vudc-synchronize-sysfs-code-paths
acpi-tables-x86-reserve-memory-occupied-by-acpi-tables
acpi-x86-call-acpi_boot_table_init-after-acpi_table_upgrade
bpf-fix-backport-of-bpf-restrict-unknown-scalars-of-mixed-signed-bounds-for-unprivileged
bpf-fix-up-selftests-after-backports-were-fixed
net-usb-ax88179_178a-initialize-local-variables-before-use
iwlwifi-fix-softirq-hardirq-disabling-in-iwl_pcie_enqueue_hcmd
mips-introduce-isa-rev.h-to-define-mips_isa_rev
mips-cpu-features.h-replace-__mips_isa_rev-with-mips_isa_rev
mips-do-not-include-hi-and-lo-in-clobber-list-for-r6
bpf-fix-masking-negation-logic-upon-negative-dst-register
iwlwifi-fix-softirq-hardirq-disabling-in-iwl_pcie_gen2_enqueue_hcmd
alsa-usb-audio-add-midi-quirk-for-vox-tonelab-ex
usb-add-lpm-quirk-for-lenovo-thinkpad-usb-c-dock-gen2-ethernet
usb-add-reset-resume-quirk-for-wd19-s-realtek-hub
platform-x86-thinkpad_acpi-correct-thermal-sensor-allocation
s390-disassembler-increase-ebpf-disasm-buffer-size
acpi-custom_method-fix-potential-use-after-free-issue
acpi-custom_method-fix-a-possible-memory-leak
arm64-dts-mt8173-fix-property-typo-of-phys-in-dsi-node
ecryptfs-fix-kernel-panic-with-null-dev_name
spi-spi-ti-qspi-free-dma-resources
mmc-block-update-ext_csd.cache_ctrl-if-it-was-written
mmc-core-do-a-power-cycle-when-the-cmd11-fails
mmc-core-set-read-only-for-sd-cards-with-permanent-write-protect-bit
cifs-return-correct-error-code-from-smb2_get_enc_key
btrfs-fix-metadata-extent-leak-after-failure-to-create-subvolume
intel_th-pci-add-rocket-lake-cpu-support
fbdev-zero-fill-colormap-in-fbcmap.c
staging-wimax-i2400m-fix-byte-order-issue
crypto-api-check-for-err-pointers-in-crypto_destroy_
usb-gadget-uvc-add-binterval-checking-for-hs-mode
usb-gadget-f_uac1-validate-input-parameters
usb-dwc3-gadget-ignore-ep-queue-requests-during-bus-
usb-xhci-fix-port-minor-revision
pci-pm-do-not-read-power-state-in-pci_enable_device_
x86-build-propagate-clang_flags-to-realmode_flags
tee-optee-do-not-check-memref-size-on-return-from-se
perf-arm_pmu_platform-fix-error-handling
spi-dln2-fix-reference-leak-to-master
spi-omap-100k-fix-reference-leak-to-master
intel_th-consistency-and-off-by-one-fix
phy-phy-twl4030-usb-fix-possible-use-after-free-in-t
btrfs-convert-logic-bug_on-s-in-replace_path-to-asse
scsi-lpfc-fix-incorrect-dbde-assignment-when-buildin
scsi-lpfc-fix-pt2pt-connection-does-not-recover-afte
scsi-target-pscsi-fix-warning-in-pscsi_complete_cmd
media-ite-cir-check-for-receive-overflow
power-supply-bq27xxx-fix-power_avg-for-newer-ics
extcon-arizona-fix-some-issues-when-hpdet-irq-fires-
media-media-saa7164-fix-saa7164_encoder_register-mem
media-gspca-sq905.c-fix-uninitialized-variable
power-supply-use-irqf_oneshot
drm-amdgpu-fix-asic-reset-regression-issue-introduce
scsi-qla2xxx-always-check-the-return-value-of-qla24x
scsi-qla2xxx-fix-use-after-free-in-bsg
scsi-scsi_dh_alua-remove-check-for-asc-24h-in-alua_r
media-em28xx-fix-memory-leak
media-vivid-update-edid
clk-socfpga-arria10-fix-memory-leak-of-socfpga_clk-o
power-supply-generic-adc-battery-fix-possible-use-af
power-supply-s3c_adc_battery-fix-possible-use-after-
media-adv7604-fix-possible-use-after-free-in-adv76xx
media-i2c-adv7511-v4l2-fix-possible-use-after-free-i
media-i2c-adv7842-fix-possible-use-after-free-in-adv
media-dvb-usb-fix-memory-leak-in-dvb_usb_adapter_ini
media-gscpa-stv06xx-fix-memory-leak
drm-msm-mdp5-configure-pp_sync_height-to-double-the-
drm-amdgpu-fix-null-pointer-dereference
scsi-lpfc-fix-crash-when-a-reg_rpi-mailbox-fails-tri
scsi-lpfc-remove-unsupported-mbox-port_capabilities-
scsi-libfc-fix-a-format-specifier
alsa-emu8000-fix-a-use-after-free-in-snd_emu8000_create_mixer
alsa-hda-conexant-re-order-cx5066-quirk-table-entries
alsa-sb-fix-two-use-after-free-in-snd_sb_qsound_build
btrfs-fix-race-when-picking-most-recent-mod-log-oper
arm64-vdso-discard-.note.gnu.property-sections-in-vd
 
 
Other changes:
*****************************************************
dtsi: busy-cost-data =  sched energy
binder: Fix log spam caused by interrupted waits 
proc: Kill facebook crap background 
soc: qcom: scm: Fix scm_call_count when used with LSE atomics 
fs: exec: Introduce is_zygote_pid() 
cpuidle: Optimize pm_qos notifier callback and IPI semantics
rcu: fix a performance regression Add WQ_POWER_EFFICIENT
sched: features: Disable EAS_PREFER_IDLE 
revert f2fs: Fix deadlock between f2fs_quota_sync and block_operation 
drivers: scsi: ufs: Scrap Qualcomm's PM QoS implementation 
drivers: scsi: ufs: Add simple IRQ-affined PM QoS operations  
msm: kgsl: Remove L2PC PM QoS feature 
msm: camera: Fix memory leak in cam_res_mgr_probe() 
drm: msm: sde: Skip prefill calculations on command mode panels 
qcacmn: Disable all of qdf_trace when WLAN_DEBUG is disabled
Revert kernel: power: qos: Use effective affinity mask  
script: basic: fixdep:
boot: dts: qcom: trinket-qrd: mdss-dsi-bl-max-level = <2047>
boot: dts: qcom: pm8150b: Update charging dts from MIUI 12.5 
drivers: power: supply: qcom smb5-lib.c fix vbat_now_uv & max_fv_uv
drivers: staging: wlan: fw-api -> v973
fs: exfat_fs update drv -> 5.5.0
fs: sdfat update drv ->  2.4.5
drivers: usb: hub: add toggle for disabling newly added USB devices
sysctl: Move sched_latency_ns under SCHED_WALT 
 
 
HARDCODED:
*****************************************************
kernel: sysctl: max_swappiness = 200;  
mm: swap: default page-cluster = 0; 
mm: vmscan" vm_swappiness = 160; 
 
 
kernel/sched/tune: Refactor SchedTune Assist code
*****************************************************
- Return proper values when write wrappers aren't bypassed
- Revise Kconfig description
- Improve overall code style
- Don't write colocate and sched_boost_no_override values 
     when WALT is disabled
- Mark static data as static
- Improve readability of log messages
- Propagate cftype struct in write wrappers
- Use task_is_booster helper rather than hard-coded "init" check      
- Only force UX tasks to big cores 
- boost   -> 0-100
- write_default_values top-app	1, 1, 0, 1
- busy-cost-data int from freqbench table
 
 
simple_lmk: 
*****************************************************
Add !PSI dependency 
Print a message when the timeout is reached 
Update adj targeting priority for Android 10
 
 
Boost CPU->max for 500ms whenever a zygote-forked process becomes a top app
Boost CPU->max for 150ms when userspace launches an app 
 
defconfig: Disable Privileged Access Never (PAN) emulation ARM64_SW_TTBR0_PAN
 
 
Misc improvements:
*****************************************************
Add full CPU frequency tables 
Merge CAF tag 'LA.UM.8.1.r1-17100-sm8150.0' in:
Marge Wireguard tag 1.0.20210424
Upstream mARkclang-13 to 2021.04.26 12:32:45


 
